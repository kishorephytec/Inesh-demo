###############################################################################
#
# IAR ANSI C/C++ Compiler V9.50.2.385/W64 for ARM         29/Mar/2025  15:53:58
# Copyright 1999-2024 IAR Systems AB.
#
#    Cpu mode                     =  thumb
#    Endian                       =  little
#    Source file                  =
#        D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\util\third_party\mbedtls\library\psa_crypto_client.c
#    Command line                 =
#        -f "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\ewarm-iar\obj\library_17211336700577820660.dir\psa_crypto_client.o.rsp"
#        ("D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\util\third_party\mbedtls\library\psa_crypto_client.c"
#        -D DEBUG_EFM=1 -D EFR32FG28B322F1024IM48=1 -D
#        configNUM_SDK_THREAD_LOCAL_STORAGE_POINTERS=2 -D
#        SL_COMPONENT_CATALOG_PRESENT=1 -D
#        MBEDTLS_CONFIG_FILE=<sl_mbedtls_config.h> -D
#        MBEDTLS_PSA_CRYPTO_CONFIG_FILE=<psa_crypto_config.h> -D
#        SL_RAIL_LIB_MULTIPROTOCOL_SUPPORT=0 -D
#        SL_RAIL_UTIL_PA_CONFIG_HEADER=<sl_rail_util_pa_config.h> -D
#        RTT_USE_ASM=0 -lC "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\ewarm-iar\lst\library_17211336700577820660.dir"
#        --diag_suppress Pa050 -o "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\ewarm-iar\obj\library_17211336700577820660.dir"
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M33 --cmse --cmse -e --fpu=VFPv5_sp --dlib_config
#        "C:\Program Files\IAR Systems\Embedded Workbench
#        9.2\arm\inc\c\DLib_Config_Normal.h" -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\util\third_party\mbedtls\library\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App 1\Wisun_Node_App\config\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App 1\Wisun_Node_App\config\rail\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App 1\Wisun_Node_App\config\wisun\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App 1\Wisun_Node_App\.\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\Device\SiliconLabs\EFR32FG28\Include\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\app\wisun\component\app_project_info\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\common\inc\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\service\cli\inc\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\service\cli\src\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\CMSIS\Core\Include\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\CMSIS\RTOS2\Include\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\service\device_init\inc\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\emdrv\common\inc\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\emlib\inc\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\service\iostream\inc\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\security\sl_component\sl_mbedtls_support\config\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\security\sl_component\sl_mbedtls_support\config\preset\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\security\sl_component\sl_mbedtls_support\inc\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\util\third_party\mbedtls\include\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\util\third_party\mbedtls\library\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\micrium_os\common\source\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\micrium_os\common\include\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\micrium_os\cpu\include\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\micrium_os\ports\source\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\micrium_os\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\micrium_os\kernel\source\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\micrium_os\kernel\include\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\emdrv\nvm3\inc\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\peripheral\inc\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\util\third_party\printf\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\util\third_party\printf\inc\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\security\sl_component\sl_psa_driver\inc\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\radio\rail_lib\common\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\radio\rail_lib\protocol\ble\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\radio\rail_lib\protocol\ieee802154\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\radio\rail_lib\protocol\wmbus\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\radio\rail_lib\protocol\zwave\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\radio\rail_lib\chip\efr32\efr32xg2x\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\radio\rail_lib\protocol\sidewalk\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\radio\rail_lib\plugin\pa-conversions\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\radio\rail_lib\plugin\pa-conversions\efr32xg28\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\radio\rail_lib\plugin\rail_util_pti\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\security\sl_component\se_manager\inc\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\security\sl_component\se_manager\src\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\util\third_party\segger\systemview\SEGGER\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\util\silicon_labs\silabs_core\memory_manager\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\common\toolchain\inc\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\service\system\inc\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\app\wisun\component\app_core\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\app\wisun\component\app_setting\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\app\wisun\component\cli_util\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\app\wisun\component\event_manager\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\app\wisun\component\ns_list\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\app\wisun\component\ping\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\app\wisun\component\trace_util\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\app\wisun\component\trace_util\nanostack\nanostack-libservice\mbed-client-libservice\\"
#        -I "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\app\wisun\component\udp_client\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\platform\service\sleeptimer\inc\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\protocol\wisun\plugin\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\protocol\wisun\stack\inc\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\gecko_sdk_4.4.5\protocol\wisun\stack\inc\socket\\" -I
#        "D:\Inesh_wisun\Wisun_Node_App 1\Wisun_Node_App\autogen\\" -On
#        --use_c++_inline) --dependencies=n "D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\ewarm-iar\obj\library_17211336700577820660.dir\psa_crypto_client.o.iar_deps"
#    Locale                       =  C
#    List file                    =
#        D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\ewarm-iar\lst\library_17211336700577820660.dir\psa_crypto_client.lst
#    Object file                  =
#        D:\Inesh_wisun\Wisun_Node_App
#        1\Wisun_Node_App\ewarm-iar\obj\library_17211336700577820660.dir\psa_crypto_client.o
#    Runtime model:                  
#      __CPP_Runtime              =  1
#      __SystemLibrary            =  DLib
#      __dlib_file_descriptor     =  0
#      __dlib_full_locale_support =  0
#      __dlib_version             =  6
#
###############################################################################

D:\Inesh_wisun\Wisun_Node_App 1\Wisun_Node_App\gecko_sdk_4.4.5\util\third_party\mbedtls\library\psa_crypto_client.c
      1          /*
      2           *  PSA crypto client code
      3           */
      4          /*
      5           *  Copyright The Mbed TLS Contributors
      6           *  SPDX-License-Identifier: Apache-2.0
      7           *
      8           *  Licensed under the Apache License, Version 2.0 (the "License"); you may
      9           *  not use this file except in compliance with the License.
     10           *  You may obtain a copy of the License at
     11           *
     12           *  http://www.apache.org/licenses/LICENSE-2.0
     13           *
     14           *  Unless required by applicable law or agreed to in writing, software
     15           *  distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
     16           *  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     17           *  See the License for the specific language governing permissions and
     18           *  limitations under the License.
     19           */
     20          
     21          #include "common.h"
     22          #include "psa/crypto.h"
     23          
     24          #if defined(MBEDTLS_PSA_CRYPTO_CLIENT)
     25          
     26          #include <string.h>
     27          #include "mbedtls/platform.h"
     28          

   \                                 In section .text, align 2, keep-with-next
     29          void psa_reset_key_attributes(psa_key_attributes_t *attributes)
     30          {
   \                     psa_reset_key_attributes: (+1)
   \        0x0   0xB5F8             PUSH     {R3-R7,LR}
   \        0x2   0x0007             MOVS     R7,R0
     31              mbedtls_free(attributes->domain_parameters);
   \        0x4   0x69F8             LDR      R0,[R7, #+28]
   \        0x6   0x.... 0x....      BL       sl_free
     32              memset(attributes, 0, sizeof(*attributes));
   \        0xA   0x2424             MOVS     R4,#+36
   \        0xC   0x2500             MOVS     R5,#+0
   \        0xE   0x003E             MOVS     R6,R7
   \       0x10   0x002A             MOVS     R2,R5
   \       0x12   0x0021             MOVS     R1,R4
   \       0x14   0x0030             MOVS     R0,R6
   \       0x16   0x.... 0x....      BL       __aeabi_memset
     33          }
   \       0x1A   0xBDF1             POP      {R0,R4-R7,PC}
     34          

   \                                 In section .text, align 2, keep-with-next
     35          psa_status_t psa_set_key_domain_parameters(psa_key_attributes_t *attributes,
     36                                                     psa_key_type_t type,
     37                                                     const uint8_t *data,
     38                                                     size_t data_length)
     39          {
   \                     psa_set_key_domain_parameters: (+1)
   \        0x0   0xE92D 0x4FF8      PUSH     {R3-R11,LR}
   \        0x4   0x0006             MOVS     R6,R0
   \        0x6   0x000F             MOVS     R7,R1
   \        0x8   0x4690             MOV      R8,R2
   \        0xA   0x001C             MOVS     R4,R3
     40              uint8_t *copy = NULL;
   \        0xC   0x2500             MOVS     R5,#+0
     41          
     42              if (data_length != 0) {
   \        0xE   0x2C00             CMP      R4,#+0
   \       0x10   0xD011             BEQ.N    ??psa_set_key_domain_parameters_0
     43                  copy = mbedtls_calloc(1, data_length);
   \       0x12   0x0021             MOVS     R1,R4
   \       0x14   0x2001             MOVS     R0,#+1
   \       0x16   0x.... 0x....      BL       sl_calloc
   \       0x1A   0x0005             MOVS     R5,R0
     44                  if (copy == NULL) {
   \       0x1C   0x2D00             CMP      R5,#+0
   \       0x1E   0xD102             BNE.N    ??psa_set_key_domain_parameters_1
     45                      return PSA_ERROR_INSUFFICIENT_MEMORY;
   \       0x20   0xF07F 0x008C      MVNS     R0,#+140
   \       0x24   0xE015             B.N      ??psa_set_key_domain_parameters_2
     46                  }
     47                  memcpy(copy, data, data_length);
   \                     ??psa_set_key_domain_parameters_1: (+1)
   \       0x26   0x46A3             MOV      R11,R4
   \       0x28   0x46C1             MOV      R9,R8
   \       0x2A   0x46AA             MOV      R10,R5
   \       0x2C   0x465A             MOV      R2,R11
   \       0x2E   0x4649             MOV      R1,R9
   \       0x30   0x4650             MOV      R0,R10
   \       0x32   0x.... 0x....      BL       __aeabi_memcpy
     48              }
     49              /* After this point, this function is guaranteed to succeed, so it
     50               * can start modifying `*attributes`. */
     51          
     52              if (attributes->domain_parameters != NULL) {
   \                     ??psa_set_key_domain_parameters_0: (+1)
   \       0x36   0x69F0             LDR      R0,[R6, #+28]
   \       0x38   0x2800             CMP      R0,#+0
   \       0x3A   0xD006             BEQ.N    ??psa_set_key_domain_parameters_3
     53                  mbedtls_free(attributes->domain_parameters);
   \       0x3C   0x69F0             LDR      R0,[R6, #+28]
   \       0x3E   0x.... 0x....      BL       sl_free
     54                  attributes->domain_parameters = NULL;
   \       0x42   0x2000             MOVS     R0,#+0
   \       0x44   0x61F0             STR      R0,[R6, #+28]
     55                  attributes->domain_parameters_size = 0;
   \       0x46   0x2000             MOVS     R0,#+0
   \       0x48   0x6230             STR      R0,[R6, #+32]
     56              }
     57          
     58              attributes->domain_parameters = copy;
   \                     ??psa_set_key_domain_parameters_3: (+1)
   \       0x4A   0x61F5             STR      R5,[R6, #+28]
     59              attributes->domain_parameters_size = data_length;
   \       0x4C   0x6234             STR      R4,[R6, #+32]
     60              attributes->core.type = type;
   \       0x4E   0x8037             STRH     R7,[R6, #+0]
     61              return PSA_SUCCESS;
   \       0x50   0x2000             MOVS     R0,#+0
   \                     ??psa_set_key_domain_parameters_2: (+1)
   \       0x52   0xE8BD 0x8FF2      POP      {R1,R4-R11,PC}
     62          }
     63          

   \                                 In section .text, align 2, keep-with-next
     64          psa_status_t psa_get_key_domain_parameters(
     65              const psa_key_attributes_t *attributes,
     66              uint8_t *data, size_t data_size, size_t *data_length)
     67          {
   \                     psa_get_key_domain_parameters: (+1)
   \        0x0   0xE92D 0x47F0      PUSH     {R4-R10,LR}
   \        0x4   0x0004             MOVS     R4,R0
   \        0x6   0x000D             MOVS     R5,R1
   \        0x8   0x0016             MOVS     R6,R2
   \        0xA   0x001F             MOVS     R7,R3
     68              if (attributes->domain_parameters_size > data_size) {
   \        0xC   0x6A20             LDR      R0,[R4, #+32]
   \        0xE   0x4286             CMP      R6,R0
   \       0x10   0xD202             BCS.N    ??psa_get_key_domain_parameters_0
     69                  return PSA_ERROR_BUFFER_TOO_SMALL;
   \       0x12   0xF07F 0x0089      MVNS     R0,#+137
   \       0x16   0xE00F             B.N      ??psa_get_key_domain_parameters_1
     70              }
     71              *data_length = attributes->domain_parameters_size;
   \                     ??psa_get_key_domain_parameters_0: (+1)
   \       0x18   0x6A20             LDR      R0,[R4, #+32]
   \       0x1A   0x6038             STR      R0,[R7, #+0]
     72              if (attributes->domain_parameters_size != 0) {
   \       0x1C   0x6A20             LDR      R0,[R4, #+32]
   \       0x1E   0x2800             CMP      R0,#+0
   \       0x20   0xD009             BEQ.N    ??psa_get_key_domain_parameters_2
     73                  memcpy(data, attributes->domain_parameters,
     74                         attributes->domain_parameters_size);
   \       0x22   0xF8D4 0xA020      LDR      R10,[R4, #+32]
   \       0x26   0xF8D4 0x801C      LDR      R8,[R4, #+28]
   \       0x2A   0x46A9             MOV      R9,R5
   \       0x2C   0x4652             MOV      R2,R10
   \       0x2E   0x4641             MOV      R1,R8
   \       0x30   0x4648             MOV      R0,R9
   \       0x32   0x.... 0x....      BL       __aeabi_memcpy
     75              }
     76              return PSA_SUCCESS;
   \                     ??psa_get_key_domain_parameters_2: (+1)
   \       0x36   0x2000             MOVS     R0,#+0
   \                     ??psa_get_key_domain_parameters_1: (+1)
   \       0x38   0xE8BD 0x87F0      POP      {R4-R10,PC}
     77          }
     78          
     79          #endif /* MBEDTLS_PSA_CRYPTO_CLIENT */

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
      32   psa_get_key_domain_parameters
        32   -> __aeabi_memcpy
      24   psa_reset_key_attributes
        24   -> __aeabi_memset
        24   -> sl_free
      40   psa_set_key_domain_parameters
        40   -> __aeabi_memcpy
        40   -> sl_calloc
        40   -> sl_free


   Section sizes:

   Bytes  Function/Label
   -----  --------------
      60  psa_get_key_domain_parameters
      28  psa_reset_key_attributes
      86  psa_set_key_domain_parameters

 
 174 bytes in section .text
 
 174 bytes of CODE memory

Errors: none
Warnings: none
