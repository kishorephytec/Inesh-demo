###############################################################################
#
# IAR ANSI C/C++ Compiler V9.50.2.385/W64 for ARM         27/Nov/2024  12:17:17
# Copyright 1999-2024 IAR Systems AB.
#
#    Cpu mode                     =  thumb
#    Endian                       =  little
#    Source file                  =
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\protocol\wisun\app\wisun_rcp\sl_wsrcp.c
#    Command line                 =
#        -f
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\ewarm-iar\obj\wisun_rcp_12033107185724647658.dir\sl_wsrcp.o.rsp
#        (C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\protocol\wisun\app\wisun_rcp\sl_wsrcp.c
#        -D EFR32FG28B322F1024IM48=1 -D
#        configNUM_SDK_THREAD_LOCAL_STORAGE_POINTERS=2 -D
#        SL_COMPONENT_CATALOG_PRESENT=1 -D
#        MBEDTLS_CONFIG_FILE=<sl_mbedtls_config.h> -D
#        MBEDTLS_PSA_CRYPTO_CONFIG_FILE=<psa_crypto_config.h> -D
#        SL_RAIL_LIB_MULTIPROTOCOL_SUPPORT=0 -D
#        SL_RAIL_UTIL_PA_CONFIG_HEADER=<sl_rail_util_pa_config.h> -D
#        RTT_USE_ASM=0 -D MBED_CONF_MBED_TRACE_ENABLE=1 -D
#        MBED_CONF_NANOSTACK_CONFIGURATION=ws_router -D
#        MBED_TRACE_MAX_LEVEL=TRACE_ACTIVE_LEVEL_ALL -D DEBUG_EFM_USER=1 -D
#        HAVE_LFN=1 -D HAVE_LFN_PARENT=1 -lC
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\ewarm-iar\lst\wisun_rcp_12033107185724647658.dir
#        --diag_suppress Pa050 -o
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\ewarm-iar\obj\wisun_rcp_12033107185724647658.dir
#        --debug --endian=little --cpu=Cortex-M33 --cmse --cmse -e
#        --fpu=VFPv5_sp --dlib_config "C:\Program Files\IAR Systems\Embedded
#        Workbench 9.2\arm\inc\c\DLib_Config_Normal.h" -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\protocol\wisun\app\wisun_rcp\
#        -I C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\autogen\ -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\config\ -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\config\rail\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\Device\SiliconLabs\EFR32FG28\Include\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\common\inc\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\CMSIS\Core\Include\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\CMSIS\RTOS2\Include\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\service\device_init\inc\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\emdrv\dmadrv\inc\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\emdrv\common\inc\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\emlib\inc\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\util\third_party\freertos\cmsis\Include\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\util\third_party\freertos\kernel\include\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\util\third_party\freertos\kernel\portable\IAR\ARM_CM33_NTZ\non_secure\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\service\iostream\inc\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\security\sl_component\sl_mbedtls_support\config\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\security\sl_component\sl_mbedtls_support\config\preset\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\security\sl_component\sl_mbedtls_support\inc\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\util\third_party\mbedtls\include\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\util\third_party\mbedtls\library\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\emdrv\nvm3\inc\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\peripheral\inc\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\security\sl_component\sl_psa_driver\inc\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\radio\rail_lib\common\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\radio\rail_lib\protocol\ble\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\radio\rail_lib\protocol\ieee802154\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\radio\rail_lib\protocol\wmbus\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\radio\rail_lib\protocol\zwave\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\radio\rail_lib\chip\efr32\efr32xg2x\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\radio\rail_lib\protocol\sidewalk\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\radio\rail_lib\plugin\pa-conversions\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\radio\rail_lib\plugin\pa-conversions\efr32xg28\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\radio\rail_lib\plugin\rail_util_pti\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\security\sl_component\se_manager\inc\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\security\sl_component\se_manager\src\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\util\third_party\segger\systemview\SEGGER\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\util\silicon_labs\silabs_core\memory_manager\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\common\toolchain\inc\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\service\system\inc\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\app\wisun\component\ns_list\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\app\wisun\component\trace_util\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\app\wisun\component\trace_util\nanostack\nanostack-libservice\mbed-client-libservice\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\platform\service\sleeptimer\inc\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\protocol\wisun\stack\inc\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\protocol\wisun\app\wisun_rcp\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\protocol\wisun\stack\inc\socket\
#        -I
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\protocol\wisun\stack\src\
#        -Ohz --use_c++_inline) --dependencies=n
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\ewarm-iar\obj\wisun_rcp_12033107185724647658.dir\sl_wsrcp.o.iar_deps
#    Locale                       =  C
#    List file                    =
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\ewarm-iar\lst\wisun_rcp_12033107185724647658.dir\sl_wsrcp.lst
#    Object file                  =
#        C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\ewarm-iar\obj\wisun_rcp_12033107185724647658.dir\sl_wsrcp.o
#    Runtime model:                  
#      __CPP_Runtime              =  1
#      __SystemLibrary            =  DLib
#      __dlib_file_descriptor     =  0
#      __dlib_full_locale_support =  0
#      __dlib_version             =  6
#      __iar_require _Printf      =  flags,int_specials,widths
#
###############################################################################

C:\Users\DELL\SimplicityStudio\v5_workspace\wisun_rcp_7\gecko_sdk_4.4.3\protocol\wisun\app\wisun_rcp\sl_wsrcp.c
      1          /***************************************************************************//**
      2           * Copyright 2021 Silicon Laboratories Inc. www.silabs.com
      3           *******************************************************************************
      4           *
      5           * The licensor of this software is Silicon Laboratories Inc. Your use of this
      6           * software is governed by the terms of Silicon Labs Master Software License
      7           * Agreement (MSLA) available here[1]. This software is distributed to you in
      8           * Source Code format and is governed by the sections of the MSLA applicable to
      9           * Source Code.
     10           *
     11           * [1] www.silabs.com/about-us/legal/master-software-license-agreement
     12           *
     13           ******************************************************************************/
     14          
     15          #include <cmsis_os2.h>
     16          #include <sl_iostream.h>
     17          #include <sl_iostream_rtt.h>
     18          #include <sl_common.h>
     19          #include <SEGGER_RTT.h>
     20          
     21          #include "sl_micrium_debug.h"
     22          #include "sl_wsrcp.h"

   \                                 In section .text, align 2, keep-with-next
   \   static __noreturn __vfp void __NVIC_SystemReset(void)
   \                     __NVIC_SystemReset: (+1)
   \        0x0   0xF3BF 0x8F4F      DSB      SY
   \        0x4   0x....             LDR.N    R2,??DataTable15_1
   \        0x6   0x6811             LDR      R1,[R2, #+0]
   \        0x8   0x....             LDR.N    R0,??DataTable15_2
   \        0xA   0xF401 0x61E0      AND      R1,R1,#0x700
   \        0xE   0x4301             ORRS     R1,R0,R1
   \       0x10   0x6011             STR      R1,[R2, #+0]
   \       0x12   0xF3BF 0x8F4F      DSB      SY
   \                     ??__NVIC_SystemReset_0: (+1)
   \       0x16   0xBF00             Nop
   \       0x18   0xE7FD             B.N      ??__NVIC_SystemReset_0
     23          #include "sl_wsrcp_api.h"
     24          #include "sl_wsrcp_hif.h"
     25          #include "sl_wsrcp_utils.h"
     26          #include "sl_wsrcp_mac.h"
     27          #include "sl_wsrcp_log.h"
     28          
     29          // See warning in sl_wsrcp.h

   \                                 In section .bss, align 8
     30          struct sl_wsrcp_app g_rcp_ctxt = { 0 };
   \                     g_rcp_ctxt:
   \        0x0                      DS8 8'616
     31          
     32          /* CPC and UART does not handle reset sequence in the same way:
     33           *
     34           *                       |       CPC        |      UART
     35           * ----------------------|------------------|-------------------
     36           * reset the CPU         | on cpc error     | on reset request
     37           * send reset indication | on reset request | on boot
     38           */
     39          
     40          #if defined SL_CATALOG_CPC_SECONDARY_PRESENT
     41          #include <sl_cpc.h>
     42          #include "sl_wsrcp_cpc.h"
     43          
     44          void cpc_rx_ready(uint8_t cpc_ep, void *user_param)
     45          {
     46              struct sl_wsrcp_app *rcp_app = container_of((sl_cpc_endpoint_handle_t *)user_param, struct sl_wsrcp_app, cpc_ep);
     47              (void)cpc_ep;
     48          
     49              osEventFlagsSet(rcp_app->main_events, RX_UART);
     50          }
     51          
     52          void cpc_on_error(uint8_t cpc_ep, void *user_param)
     53          {
     54              (void)cpc_ep;
     55              (void)user_param;
     56          
     57              NVIC_SystemReset();
     58          }
     59          
     60          void wsmac_on_reset_req(struct sl_wsrcp_mac *rcp_mac)
     61          {
     62              rcp_ind_reset(rcp_mac);
     63          }
     64          
     65          static void wisun_rcp_init_bus(struct sl_wsrcp_app *rcp_app)
     66          {
     67              cpc_init(&rcp_app->cpc_ep);
     68              rcp_app->rcp_mac = wsmac_register(cpc_tx, cpc_rx, &rcp_app->cpc_ep);
     69              wsmac_init_timers(rcp_app->rcp_mac, &rcp_app->rcp_timer_context);
     70          }
     71          
     72          #elif defined SL_CATALOG_IOSTREAM_UART_COMMON_PRESENT
     73          
     74          #include "sl_wsrcp_uart_plt.h"
     75          
     76          static int wisun_rcp_uart_plt_tx(void *cb_data, const void *buf, int buf_len)
     77          {
     78              return uart_plt_tx(cb_data, buf, buf_len);
     79          }
     80          
     81          static int wisun_rcp_uart_plt_rx(void *cb_data, void *buf, int buf_len)
     82          {
     83              return uart_plt_rx(cb_data, buf, buf_len);
     84          }
     85          
     86          void uart_plt_rx_ready(struct sl_wsrcp_uart_plt *uart_ctxt)
     87          {
     88              struct sl_wsrcp_app *rcp_app = container_of(uart_ctxt, struct sl_wsrcp_app, uart_plt);
     89          
     90              osEventFlagsSet(rcp_app->main_events, RX_UART);
     91          }
     92          
     93          void uart_plt_crc_error(struct sl_wsrcp_uart_plt *uart_ctxt, uint8_t irq_err_counter)
     94          {
     95              (void)uart_ctxt;
     96              FATAL(HIF_ECRC, "crc error irq-err-cnt=%u", irq_err_counter);
     97          }
     98          
     99          void wsmac_on_reset_req(struct sl_wsrcp_mac *rcp_mac)
    100          {
    101              (void)rcp_mac;
    102          
    103              NVIC_SystemReset();
    104          }
    105          
    106          static void wisun_rcp_init_bus(struct sl_wsrcp_app *rcp_app)
    107          {
    108              uart_plt_init(&rcp_app->uart_plt);
    109              rcp_app->rcp_mac = wsmac_register(wisun_rcp_uart_plt_tx, wisun_rcp_uart_plt_rx, &rcp_app->uart_plt);
    110              wsmac_init_timers(rcp_app->rcp_mac, &rcp_app->rcp_timer_context);
    111              rcp_ind_reset(rcp_app->rcp_mac);
    112          }
    113          
    114          #else
    115          
    116          #include "sl_wsrcp_uart.h"
    117          

   \                                 In section .text, align 2, keep-with-next
    118          static int wisun_rcp_uart_tx(void *cb_data, const void *buf, int buf_len)
    119          {
    120              return uart_tx(cb_data, buf, buf_len);
   \                     wisun_rcp_uart_tx: (+1)
   \        0x0   0x.... 0x....      B.W      uart_tx
    121          }
    122          

   \                                 In section .text, align 2, keep-with-next
    123          static int wisun_rcp_uart_rx(void *cb_data, void *buf, int buf_len)
    124          {
    125              return uart_rx(cb_data, buf, buf_len);
   \                     wisun_rcp_uart_rx: (+1)
   \        0x0   0x.... 0x....      B.W      uart_rx
    126          }
    127          

   \                                 In section .text, align 2, keep-with-next
    128          void uart_rx_ready(struct sl_wsrcp_uart *uart_ctxt)
    129          {
    130              struct sl_wsrcp_app *rcp_app = container_of(uart_ctxt, struct sl_wsrcp_app, uart);
    131          
    132              osEventFlagsSet(rcp_app->main_events, RX_UART);
   \                     uart_rx_ready: (+1)
   \        0x0   0x3808             SUBS     R0,R0,#+8
   \        0x2   0x6800             LDR      R0,[R0, #+0]
   \        0x4   0x2101             MOVS     R1,#+1
   \        0x6   0x.... 0x....      B.W      osEventFlagsSet
    133          }
    134          

   \                                 In section .text, align 4, keep-with-next
    135          void uart_crc_error(struct sl_wsrcp_uart *uart_ctxt, uint8_t irq_err_counter)
    136          {
   \                     uart_crc_error: (+1)
   \        0x0   0x460C             MOV      R4,R1
    137              (void)uart_ctxt;
    138              FATAL(HIF_ECRC, "crc error irq-err-cnt=%u", irq_err_counter);
   \        0x2   0x....             LDR.N    R0,??DataTable15_3
   \        0x4   0x7801             LDRB     R1,[R0, #+0]
   \        0x6   0x2900             CMP      R1,#+0
   \        0x8   0x4621             MOV      R1,R4
   \        0xA   0xBF14             ITE      NE
   \        0xC   0x....             LDRNE.N  R0,??DataTable15_4
   \        0xE   0x.... 0x....      ADREQ.W  R0,?_4
   \       0x12   0x.... 0x....      BL       printf
   \       0x16   0x....             LDR.N    R1,??DataTable15_5
   \       0x18   0x7808             LDRB     R0,[R1, #+0]
   \       0x1A   0xB938             CBNZ.N   R0,??uart_crc_error_0
   \       0x1C   0x....             LDR.N    R2,??DataTable15_6
   \       0x1E   0x6813             LDR      R3,[R2, #+0]
   \       0x20   0xB123             CBZ.N    R3,??uart_crc_error_0
   \       0x22   0x2001             MOVS     R0,#+1
   \       0x24   0x7008             STRB     R0,[R1, #+0]
   \       0x26   0x4622             MOV      R2,R4
   \       0x28   0x....             ADR.N    R1,?_3
   \       0x2A   0x4798             BLX      R3
   \                     ??uart_crc_error_0: (+1)
   \       0x2C   0x2001             MOVS     R0,#+1
   \       0x2E   0x.... 0x....      BL       exit
   \       0x32   0xBF00             Nop
    139          }
    140          

   \                                 In section .text, align 2, keep-with-next
    141          void wsmac_on_reset_req(struct sl_wsrcp_mac *rcp_mac)
    142          {
    143              (void)rcp_mac;
    144          
    145              NVIC_SystemReset();
   \                     wsmac_on_reset_req: (+1)
   \        0x0   0x.... 0x....      BL       __NVIC_SystemReset
   \        0x4   0xBF00             Nop
    146          }
    147          
    148          static void wisun_rcp_init_bus(struct sl_wsrcp_app *rcp_app)
    149          {
    150              uart_init(&rcp_app->uart, &rcp_app->rcp_timer_context);
    151              rcp_app->rcp_mac = wsmac_register(wisun_rcp_uart_tx, wisun_rcp_uart_rx, &rcp_app->uart);
    152              wsmac_init_timers(rcp_app->rcp_mac, &rcp_app->rcp_timer_context);
    153              rcp_ind_reset(rcp_app->rcp_mac);
    154          }
    155          
    156          #endif
    157          

   \                                 In section .text, align 2, keep-with-next
    158          static void wisun_rcp_on_phy_timer_expiration(sli_wisun_timer_context_t *ctxt)
    159          {
    160            struct sl_wsrcp_app *rcp_app = container_of((sli_wisun_timer_context_t *)ctxt, struct sl_wsrcp_app, rcp_timer_context);
    161            osEventFlagsSet(rcp_app->main_events, TIMER_EXPIRED);
   \                     wisun_rcp_on_phy_timer_expiration: (+1)
   \        0x0   0x....             LDR.N    R2,??DataTable15_7
   \        0x2   0x5810             LDR      R0,[R2, R0]
   \        0x4   0x2102             MOVS     R1,#+2
   \        0x6   0x.... 0x....      B.W      osEventFlagsSet
    162          }
    163          

   \                                 In section .text, align 4, keep-with-next
    164          void wisun_rcp_main(void *arg)
    165          {
   \                     wisun_rcp_main: (+1)
   \        0x0   0xE92D 0x47F0      PUSH     {R4-R10,LR}
   \        0x4   0xEA4F 0x0400      MOV.W    R4,R0
    166              struct sl_wsrcp_app *rcp_app = arg;
    167              uint32_t flags;
    168          
    169              sli_wisun_timer_context_setup(&rcp_app->rcp_timer_context, wisun_rcp_on_phy_timer_expiration, "wisun_rcp");
   \        0x8   0xF242 0x138C      MOVW     R3,#+8588
   \        0xC   0xEB04 0x0A03      ADD      R10,R4,R3
   \       0x10   0x....             ADR.N    R2,?_5
   \       0x12   0x....             LDR.N    R1,??DataTable15_8
   \       0x14   0x4650             MOV      R0,R10
   \       0x16   0x.... 0x....      BL       sli_wisun_timer_context_setup
    170              wisun_rcp_init_bus(rcp_app);
   \       0x1A   0x4651             MOV      R1,R10
   \       0x1C   0xF104 0x0008      ADD      R0,R4,#+8
   \       0x20   0x.... 0x....      BL       uart_init
   \       0x24   0xF104 0x0208      ADD      R2,R4,#+8
   \       0x28   0x....             LDR.N    R1,??DataTable15_9
   \       0x2A   0x....             LDR.N    R0,??DataTable15_10
   \       0x2C   0xF242 0x1588      MOVW     R5,#+8584
   \       0x30   0x.... 0x....      BL       wsmac_register
   \       0x34   0x5160             STR      R0,[R4, R5]
   \       0x36   0x4651             MOV      R1,R10
   \       0x38   0x.... 0x....      BL       wsmac_init_timers
   \       0x3C   0x5960             LDR      R0,[R4, R5]
   \       0x3E   0x.... 0x....      ADR.W    R8,?_7
   \       0x42   0x.... 0x....      ADR.W    R9,?_6
   \       0x46   0x.... 0x....      BL       rcp_ind_reset
   \       0x4A   0x....             LDR.N    R6,??DataTable15_3
   \       0x4C   0xE00D             B.N      ??wisun_rcp_main_0
    171              for (;;) {
    172                  flags = osEventFlagsWait(rcp_app->main_events, RX_UART | TIMER_EXPIRED, osFlagsWaitAny, osWaitForever);
    173                  if (flags & 0x10000000)
    174                      WARN("Error: %08" PRIu32, flags);
   \                     ??wisun_rcp_main_1: (+1)
   \       0x4E   0x.... 0x....      BL       printf
    175                  if (flags & RX_UART) {
   \                     ??wisun_rcp_main_2: (+1)
   \       0x52   0x07F8             LSLS     R0,R7,#+31
   \       0x54   0xD504             BPL.N    ??wisun_rcp_main_3
    176                      while (rcp_rx(rcp_app->rcp_mac))
   \                     ??wisun_rcp_main_4: (+1)
   \       0x56   0x5960             LDR      R0,[R4, R5]
   \       0x58   0x.... 0x....      BL       rcp_rx
   \       0x5C   0x2800             CMP      R0,#+0
   \       0x5E   0xD1FA             BNE.N    ??wisun_rcp_main_4
    177                          /* empty */;
    178                  }
    179                  if (flags & TIMER_EXPIRED) {
   \                     ??wisun_rcp_main_3: (+1)
   \       0x60   0x07B8             LSLS     R0,R7,#+30
   \       0x62   0xBF44             ITT      MI
    180                      sli_wisun_timer_context_dispatcher(&rcp_app->rcp_timer_context);
   \       0x64   0x4650             MOVMI    R0,R10
   \       0x66   0x.... 0x....      BLMI     sli_wisun_timer_context_dispatcher
    181                  }
   \                     ??wisun_rcp_main_0: (+1)
   \       0x6A   0x6820             LDR      R0,[R4, #+0]
   \       0x6C   0xF04F 0x33FF      MOV      R3,#+4294967295
   \       0x70   0x2200             MOVS     R2,#+0
   \       0x72   0x2103             MOVS     R1,#+3
   \       0x74   0x.... 0x....      BL       osEventFlagsWait
   \       0x78   0x4607             MOV      R7,R0
   \       0x7A   0x00F9             LSLS     R1,R7,#+3
   \       0x7C   0xD5E9             BPL.N    ??wisun_rcp_main_2
   \       0x7E   0x7830             LDRB     R0,[R6, #+0]
   \       0x80   0x4639             MOV      R1,R7
   \       0x82   0x2800             CMP      R0,#+0
   \       0x84   0xBF14             ITE      NE
   \       0x86   0x4648             MOVNE    R0,R9
   \       0x88   0x4640             MOVEQ    R0,R8
   \       0x8A   0xE7E0             B.N      ??wisun_rcp_main_1
    182              }
    183          
    184          }
    185          

   \                                 In section .text, align 4, keep-with-next
    186          void wisun_rcp_init(void)
    187          {
   \                     wisun_rcp_init: (+1)
   \        0x0   0xB510             PUSH     {R4,LR}
    188              struct sl_wsrcp_app *rcp_app = &g_rcp_ctxt;
    189              const osThreadAttr_t thread_attr = {
    190                  .name = "Wi-SUN MAC",
    191                  .stack_size = 2048, // Default value is not enough
    192              };
    193            printf("%s\n",__FUNCTION__);
   \        0x2   0xBF00             Nop
   \        0x4   0x....             ADR.N    R1,`wisun_rcp_init::__FUNCTION__`
   \        0x6   0x....             ADR.N    R0,??DataTable15
   \        0x8   0x.... 0x....      BL       printf
    194              sl_iostream_set_default(sl_iostream_rtt_handle);
   \        0xC   0x....             LDR.N    R1,??DataTable15_11
   \        0xE   0x6808             LDR      R0,[R1, #+0]
   \       0x10   0x....             LDR.N    R4,??DataTable15_12
   \       0x12   0x.... 0x....      BL       sl_iostream_set_default
    195              SEGGER_RTT_SetFlagsUpBuffer(0, SEGGER_RTT_MODE_NO_BLOCK_SKIP);
   \       0x16   0x2100             MOVS     R1,#+0
   \       0x18   0x2000             MOVS     R0,#+0
   \       0x1A   0x.... 0x....      BL       SEGGER_RTT_SetFlagsUpBuffer
    196              export_debugger_data();
    197              // Note: this function is launched before the Operating System, you can't
    198              // acquire anymutex in.
    199              rcp_app->main_events = osEventFlagsNew(NULL);
   \       0x1E   0x2000             MOVS     R0,#+0
   \       0x20   0x.... 0x....      BL       osEventFlagsNew
   \       0x24   0x6020             STR      R0,[R4, #+0]
    200              rcp_app->main_task = osThreadNew(wisun_rcp_main, rcp_app, &thread_attr);
   \       0x26   0x....             LDR.N    R2,??DataTable15_13
   \       0x28   0x4621             MOV      R1,R4
   \       0x2A   0x....             LDR.N    R0,??DataTable15_14
   \       0x2C   0x.... 0x....      BL       osThreadNew
   \       0x30   0x6060             STR      R0,[R4, #+4]
    201          }
   \       0x32   0xBD10             POP      {R4,PC}

   \                                 In section .rodata, align 4
   \                     `wisun_rcp_init::thread_attr`:
   \        0x0   0x....'....        DC32 ?_1, 0, 0x0, 0, 0x0, 2'048
   \              0x0000'0000  
   \              0x0000'0000  
   \              0x0000'0000  
   \              0x0000'0000  
   \              0x0000'0800
   \       0x18                      DS8 12
    202          

   \                                 In section .text, align 4, keep-with-next
    203          void assertEFM(const char *file, int line)
    204          {
   \                     assertEFM: (+1)
   \        0x0   0xB5FE             PUSH     {R1-R7,LR}
   \        0x2   0x460E             MOV      R6,R1
   \        0x4   0x4605             MOV      R5,R0
    205              BUG("assert in %s:%d\n", file, line);
   \        0x6   0x....             LDR.N    R1,??DataTable15_3
   \        0x8   0xF891 0x0000      LDRB.W   R0,[R1, #+0]
   \        0xC   0x....             ADR.N    R7,`assertEFM::__func__`
   \        0xE   0x9600             STR      R6,[SP, #+0]
   \       0x10   0x2800             CMP      R0,#+0
   \       0x12   0x462B             MOV      R3,R5
   \       0x14   0xD003             BEQ.N    ??assertEFM_0
   \       0x16   0x22CD             MOVS     R2,#+205
   \       0x18   0x4639             MOV      R1,R7
   \       0x1A   0x....             LDR.N    R0,??DataTable15_15
   \       0x1C   0xE003             B.N      ??assertEFM_1
   \                     ??assertEFM_0: (+1)
   \       0x1E   0x22CD             MOVS     R2,#+205
   \       0x20   0xEA4F 0x0107      MOV.W    R1,R7
   \       0x24   0x....             ADR.N    R0,?_9
   \                     ??assertEFM_1: (+1)
   \       0x26   0x.... 0x....      BL       printf
   \       0x2A   0x....             LDR.N    R1,??DataTable15_5
   \       0x2C   0x7808             LDRB     R0,[R1, #+0]
   \       0x2E   0xB960             CBNZ.N   R0,??assertEFM_2
   \       0x30   0x....             LDR.N    R2,??DataTable15_6
   \       0x32   0x6814             LDR      R4,[R2, #+0]
   \       0x34   0xB14C             CBZ.N    R4,??assertEFM_2
   \       0x36   0x2001             MOVS     R0,#+1
   \       0x38   0x7008             STRB     R0,[R1, #+0]
   \       0x3A   0x9601             STR      R6,[SP, #+4]
   \       0x3C   0x9500             STR      R5,[SP, #+0]
   \       0x3E   0x23CD             MOVS     R3,#+205
   \       0x40   0xEA4F 0x0207      MOV.W    R2,R7
   \       0x44   0x....             ADR.N    R1,?_10
   \       0x46   0x2000             MOVS     R0,#+0
   \       0x48   0x47A0             BLX      R4
   \                     ??assertEFM_2: (+1)
   \       0x4A   0xBE00             BKPT     #0x0
   \                     ??assertEFM_3: (+1)
   \       0x4C   0xE7FE             B.N      ??assertEFM_3
    206          }
    207          

   \                                 In section .text, align 2, keep-with-next
    208          void HardFault_Handler(void) 
    209          {
    210              NVIC_SystemReset();
   \                     HardFault_Handler: (+1)
   \        0x0   0x.... 0x....      BL       __NVIC_SystemReset
   \        0x4   0xBF00             Nop
    211          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable15:
   \        0x0   0x25 0x73          DC8      "%s\n"         
   \              0x0A 0x00

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable15_1:
   \        0x0   0xE000'ED0C        DC32     0xe000ed0c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable15_2:
   \        0x0   0x05FA'0004        DC32     0x5fa0004

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable15_3:
   \        0x0   0x....'....        DC32     g_enable_color_traces

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable15_4:
   \        0x0   0x....'....        DC32     ?_0

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable15_5:
   \        0x0   0x....'....        DC32     g_err_reentrancy

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable15_6:
   \        0x0   0x....'....        DC32     g_on_err

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable15_7:
   \        0x0   0xFFFF'DE74        DC32     0xffffde74

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable15_8:
   \        0x0   0x....'....        DC32     wisun_rcp_on_phy_timer_expiration

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable15_9:
   \        0x0   0x....'....        DC32     wisun_rcp_uart_rx

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable15_10:
   \        0x0   0x....'....        DC32     wisun_rcp_uart_tx

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable15_11:
   \        0x0   0x....'....        DC32     sl_iostream_rtt_handle

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable15_12:
   \        0x0   0x....'....        DC32     g_rcp_ctxt

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable15_13:
   \        0x0   0x....'....        DC32     `wisun_rcp_init::thread_attr`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable15_14:
   \        0x0   0x....'....        DC32     wisun_rcp_main

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable15_15:
   \        0x0   0x....'....        DC32     ?_2

   \                                 In section .rodata, align 4
   \                     ?_0:
   \        0x0   0x1B 0x5B          DC8 "\033[31mcrc error irq-err-cnt=%u\033[0m\012"
   \              0x33 0x31    
   \              0x6D 0x63    
   \              0x72 0x63    
   \              0x20 0x65    
   \              0x72 0x72    
   \              0x6F 0x72    
   \              0x20 0x69    
   \              0x72 0x71    
   \              0x2D 0x65    
   \              0x72 0x72    
   \              0x2D 0x63    
   \              0x6E 0x74    
   \              0x3D 0x25    
   \              0x75 0x1B    
   \              0x5B 0x30    
   \              0x6D 0x0A    
   \              0x00
   \       0x23                      DS8 1

   \                                 In section .rodata, align 4
   \                     ?_1:
   \        0x0   0x57 0x69          DC8 "Wi-SUN MAC"
   \              0x2D 0x53    
   \              0x55 0x4E    
   \              0x20 0x4D    
   \              0x41 0x43    
   \              0x00
   \        0xB                      DS8 1

   \                                 In section .rodata, align 4
   \                     ?_2:
   \        0x0   0x1B 0x5B          DC8 "\033[91m%s():%d: bug: assert in %s:%d\012\033[0m\012"
   \              0x39 0x31    
   \              0x6D 0x25    
   \              0x73 0x28    
   \              0x29 0x3A    
   \              0x25 0x64    
   \              0x3A 0x20    
   \              0x62 0x75    
   \              0x67 0x3A    
   \              0x20 0x61    
   \              0x73 0x73    
   \              0x65 0x72    
   \              0x74 0x20    
   \              0x69 0x6E    
   \              0x20 0x25    
   \              0x73 0x3A    
   \              0x25 0x64    
   \              0x0A 0x1B    
   \              0x5B 0x30    
   \              0x6D 0x0A    
   \              0x00
   \       0x29                      DS8 3

   \                                 In section .rodata, align 4, keep-with-next
   \                     ?_8:
   \        0x0   0x25 0x73          DC8 "%s\012"
   \              0x0A 0x00

   \                                 In section .text, align 4, keep-with-next
   \                     ?_3:
   \        0x0   0x63 0x72          DC8 "crc error irq-err-cnt=%u"
   \              0x63 0x20    
   \              0x65 0x72    
   \              0x72 0x6F    
   \              0x72 0x20    
   \              0x69 0x72    
   \              0x71 0x2D    
   \              0x65 0x72    
   \              0x72 0x2D    
   \              0x63 0x6E    
   \              0x74 0x3D    
   \              0x25 0x75    
   \              0x00
   \       0x19                      DS8 3

   \                                 In section .text, align 4, keep-with-next
   \                     ?_4:
   \        0x0   0x63 0x72          DC8 "crc error irq-err-cnt=%u\012"
   \              0x63 0x20    
   \              0x65 0x72    
   \              0x72 0x6F    
   \              0x72 0x20    
   \              0x69 0x72    
   \              0x71 0x2D    
   \              0x65 0x72    
   \              0x72 0x2D    
   \              0x63 0x6E    
   \              0x74 0x3D    
   \              0x25 0x75    
   \              0x0A 0x00
   \       0x1A                      DS8 2

   \                                 In section .text, align 4, keep-with-next
   \                     ?_5:
   \        0x0   0x77 0x69          DC8 "wisun_rcp"
   \              0x73 0x75    
   \              0x6E 0x5F    
   \              0x72 0x63    
   \              0x70 0x00
   \        0xA                      DS8 2

   \                                 In section .text, align 4, keep-with-next
   \                     ?_6:
   \        0x0   0x1B 0x5B          DC8 "\033[93mwarning: Error: %08u\033[0m\012"
   \              0x39 0x33    
   \              0x6D 0x77    
   \              0x61 0x72    
   \              0x6E 0x69    
   \              0x6E 0x67    
   \              0x3A 0x20    
   \              0x45 0x72    
   \              0x72 0x6F    
   \              0x72 0x3A    
   \              0x20 0x25    
   \              0x30 0x38    
   \              0x75 0x1B    
   \              0x5B 0x30    
   \              0x6D 0x0A    
   \              0x00
   \       0x1F                      DS8 1

   \                                 In section .text, align 4, keep-with-next
   \                     ?_7:
   \        0x0   0x77 0x61          DC8 "warning: Error: %08u\012"
   \              0x72 0x6E    
   \              0x69 0x6E    
   \              0x67 0x3A    
   \              0x20 0x45    
   \              0x72 0x72    
   \              0x6F 0x72    
   \              0x3A 0x20    
   \              0x25 0x30    
   \              0x38 0x75    
   \              0x0A 0x00
   \       0x16                      DS8 2

   \                                 In section .text, align 4, keep-with-next
   \                     ?_9:
   \        0x0   0x25 0x73          DC8 "%s():%d: bug: assert in %s:%d\012\012"
   \              0x28 0x29    
   \              0x3A 0x25    
   \              0x64 0x3A    
   \              0x20 0x62    
   \              0x75 0x67    
   \              0x3A 0x20    
   \              0x61 0x73    
   \              0x73 0x65    
   \              0x72 0x74    
   \              0x20 0x69    
   \              0x6E 0x20    
   \              0x25 0x73    
   \              0x3A 0x25    
   \              0x64 0x0A    
   \              0x0A 0x00

   \                                 In section .text, align 4, keep-with-next
   \                     ?_10:
   \        0x0   0x25 0x73          DC8 "%s():%d: bug: assert in %s:%d\012"
   \              0x28 0x29    
   \              0x3A 0x25    
   \              0x64 0x3A    
   \              0x20 0x62    
   \              0x75 0x67    
   \              0x3A 0x20    
   \              0x61 0x73    
   \              0x73 0x65    
   \              0x72 0x74    
   \              0x20 0x69    
   \              0x6E 0x20    
   \              0x25 0x73    
   \              0x3A 0x25    
   \              0x64 0x0A    
   \              0x00
   \       0x1F                      DS8 1

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       0   HardFault_Handler
         0   -> __NVIC_SystemReset
       0   __NVIC_SystemReset
      32   assertEFM
        32   -- Indirect call
        32   -> printf
       0   uart_crc_error
         0   -- Indirect call
         0   -> exit
         0   -> printf
       0   uart_rx_ready
         0   -> osEventFlagsSet
       8   wisun_rcp_init
         8   -> SEGGER_RTT_SetFlagsUpBuffer
         8   -> osEventFlagsNew
         8   -> osThreadNew
         8   -> printf
         8   -> sl_iostream_set_default
      32   wisun_rcp_main
        32   -> osEventFlagsWait
        32   -> printf
        32   -> rcp_ind_reset
        32   -> rcp_rx
        32   -> sli_wisun_timer_context_dispatcher
        32   -> sli_wisun_timer_context_setup
        32   -> uart_init
        32   -> wsmac_init_timers
        32   -> wsmac_register
       0   wisun_rcp_on_phy_timer_expiration
         0   -> osEventFlagsSet
       0   wisun_rcp_uart_rx
         0   -> uart_rx
       0   wisun_rcp_uart_tx
         0   -> uart_tx
       0   wsmac_on_reset_req
         0   -> __NVIC_SystemReset


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable15
       4  ??DataTable15_1
       4  ??DataTable15_10
       4  ??DataTable15_11
       4  ??DataTable15_12
       4  ??DataTable15_13
       4  ??DataTable15_14
       4  ??DataTable15_15
       4  ??DataTable15_2
       4  ??DataTable15_3
       4  ??DataTable15_4
       4  ??DataTable15_5
       4  ??DataTable15_6
       4  ??DataTable15_7
       4  ??DataTable15_8
       4  ??DataTable15_9
      36  ?_0
      12  ?_1
      32  ?_10
      44  ?_2
      28  ?_3
      28  ?_4
      12  ?_5
      32  ?_6
      24  ?_7
       4  ?_8
      32  ?_9
       6  HardFault_Handler
      26  __NVIC_SystemReset
      78  assertEFM
   8'616  g_rcp_ctxt
      36  thread_attr
      52  uart_crc_error
      10  uart_rx_ready
      52  wisun_rcp_init
     140  wisun_rcp_main
      10  wisun_rcp_on_phy_timer_expiration
       4  wisun_rcp_uart_rx
       4  wisun_rcp_uart_tx
       6  wsmac_on_reset_req
      28  -- Other

 
 8'616 bytes in section .bss
   132 bytes in section .rodata
   668 bytes in section .text
 
   668 bytes of CODE  memory
   132 bytes of CONST memory
 8'616 bytes of DATA  memory

Errors: none
Warnings: none
